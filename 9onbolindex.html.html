<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2BAC GRADE CALCULATOR</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        .animate-pulse-custom {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-950 via-indigo-950 to-purple-950 p-4 sm:p-6 lg:p-8">
    <div class="max-w-5xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-8 sm:mb-12">
            <div class="inline-flex items-center justify-center mb-4 sm:mb-6">
                <div class="relative">
                    <div class="absolute inset-0 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full blur-xl opacity-50"></div>
                    <svg class="relative w-12 h-12 sm:w-16 sm:h-16 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                    </svg>
                </div>
            </div>
            <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-2 sm:mb-3">
                2BAC GRADE CALCULATOR
            </h1>
            <p class="text-indigo-300 text-sm sm:text-base">Calculez votre moyenne générale avec précision (sc pc)</p>
        </div>

        <!-- Main Card -->
        <div class="bg-slate-900/50 backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-800/50 p-6 sm:p-8 mb-6">
            
            <!-- Subjects Grid -->
            <div id="subjectsContainer" class="grid gap-3 sm:gap-4 mb-8"></div>

            <!-- Stats Cards -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-8">
                <div class="relative group">
                    <div class="absolute inset-0 bg-gradient-to-r from-indigo-600 to-indigo-500 rounded-2xl blur opacity-30 group-hover:opacity-50 transition-opacity"></div>
                    <div class="relative bg-gradient-to-br from-indigo-900/50 to-indigo-800/30 p-5 sm:p-6 rounded-2xl border border-indigo-700/50">
                        <div class="flex items-center mb-3">
                            <svg class="w-5 h-5 sm:w-6 sm:h-6 text-indigo-400 mr-2 sm:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                            </svg>
                            <span class="text-xs sm:text-sm text-indigo-300 font-medium">Total Points</span>
                        </div>
                        <div class="text-2xl sm:text-3xl font-bold text-white" id="totalPoints">0.00</div>
                        <div class="text-xs sm:text-sm text-indigo-400 mt-1">sur 720</div>
                    </div>
                </div>

                <div class="relative group">
                    <div class="absolute inset-0 bg-gradient-to-r from-purple-600 to-purple-500 rounded-2xl blur opacity-30 group-hover:opacity-50 transition-opacity"></div>
                    <div class="relative bg-gradient-to-br from-purple-900/50 to-purple-800/30 p-5 sm:p-6 rounded-2xl border border-purple-700/50">
                        <div class="flex items-center mb-3">
                            <svg class="w-5 h-5 sm:w-6 sm:h-6 text-purple-400 mr-2 sm:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                            </svg>
                            <span class="text-xs sm:text-sm text-purple-300 font-medium">Coefficient Total</span>
                        </div>
                        <div class="text-2xl sm:text-3xl font-bold text-white">36</div>
                        <div class="text-xs sm:text-sm text-purple-400 mt-1">matières</div>
                    </div>
                </div>
            </div>

            <!-- Average Display -->
            <div class="relative group mb-6">
                <div class="absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-3xl blur-xl opacity-40 group-hover:opacity-60 transition-opacity"></div>
                <div class="relative bg-gradient-to-br from-indigo-600 to-purple-600 rounded-3xl p-8 sm:p-10 text-white">
                    <div class="text-center">
                        <div class="flex items-center justify-center mb-3">
                            <svg class="w-5 h-5 sm:w-6 sm:h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                            </svg>
                            <p class="text-xs sm:text-sm uppercase tracking-widest font-semibold opacity-90">
                                Moyenne Générale
                            </p>
                        </div>
                        <p id="averageDisplay" class="text-5xl sm:text-6xl lg:text-7xl font-black mb-3 opacity-50">
                            0.0000
                        </p>
                        <p class="text-xl sm:text-2xl opacity-90 mb-4">/ 20</p>
                        <div id="gradeLabel" class="inline-block bg-white/20 backdrop-blur-sm px-5 sm:px-6 py-2 sm:py-3 rounded-full border border-white/30 shadow-lg" style="display: none;">
                            <span class="font-bold text-base sm:text-lg"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Button -->
            <div class="text-center">
                <button id="resetBtn" class="relative group px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-rose-600 to-pink-600 text-white font-bold rounded-xl overflow-hidden transition-all duration-300 hover:scale-105 active:scale-95 shadow-lg hover:shadow-2xl">
                    <div class="absolute inset-0 bg-gradient-to-r from-rose-400 to-pink-400 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                    <div class="absolute inset-0 bg-white/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity"></div>
                    <span class="relative text-sm sm:text-base">Réinitialiser Tout</span>
                </button>
            </div>
        </div>

        <!-- Grade Scale -->
        <div class="bg-slate-900/50 backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-800/50 p-6 sm:p-8">
            <h2 class="text-lg sm:text-xl font-bold text-white mb-4 sm:mb-6 text-center">Barème d'évaluation</h2>
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4">
                <div class="relative group">
                    <div class="absolute inset-0 bg-emerald-500 rounded-xl blur opacity-20 group-hover:opacity-40 transition-opacity"></div>
                    <div class="relative text-center p-4 bg-gradient-to-br from-emerald-900/50 to-emerald-800/30 rounded-xl border border-emerald-700/50">
                        <div class="font-black text-emerald-400 text-base sm:text-lg">≥ 16</div>
                        <div class="text-xs text-emerald-300 mt-1">Excellent</div>
                    </div>
                </div>
                <div class="relative group">
                    <div class="absolute inset-0 bg-blue-500 rounded-xl blur opacity-20 group-hover:opacity-40 transition-opacity"></div>
                    <div class="relative text-center p-4 bg-gradient-to-br from-blue-900/50 to-blue-800/30 rounded-xl border border-blue-700/50">
                        <div class="font-black text-blue-400 text-base sm:text-lg">14-16</div>
                        <div class="text-xs text-blue-300 mt-1">Très Bien</div>
                    </div>
                </div>
                <div class="relative group">
                    <div class="absolute inset-0 bg-yellow-500 rounded-xl blur opacity-20 group-hover:opacity-40 transition-opacity"></div>
                    <div class="relative text-center p-4 bg-gradient-to-br from-yellow-900/50 to-yellow-800/30 rounded-xl border border-yellow-700/50">
                        <div class="font-black text-yellow-400 text-base sm:text-lg">12-14</div>
                        <div class="text-xs text-yellow-300 mt-1">Bien</div>
                    </div>
                </div>
                <div class="relative group">
                    <div class="absolute inset-0 bg-orange-500 rounded-xl blur opacity-20 group-hover:opacity-40 transition-opacity"></div>
                    <div class="relative text-center p-4 bg-gradient-to-br from-orange-900/50 to-orange-800/30 rounded-xl border border-orange-700/50">
                        <div class="font-black text-orange-400 text-base sm:text-lg">10-12</div>
                        <div class="text-xs text-orange-300 mt-1">Assez Bien</div>
                    </div>
                </div>
                <div class="relative group col-span-2 sm:col-span-1">
                    <div class="absolute inset-0 bg-red-500 rounded-xl blur opacity-20 group-hover:opacity-40 transition-opacity"></div>
                    <div class="relative text-center p-4 bg-gradient-to-br from-red-900/50 to-red-800/30 rounded-xl border border-red-700/50">
                        <div class="font-black text-red-400 text-base sm:text-lg">&lt; 10</div>
                        <div class="text-xs text-red-300 mt-1">Insuffisant</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const subjects = [
            { name: 'pr', coefficient: 1 },
            { name: 'ei', coefficient: 2 },
            { name: 'eps', coefficient: 4 },
            { name: 'math', coefficient: 7 },
            { name: 'PHILE', coefficient: 2 },
            { name: 'pc', coefficient: 7 },
            { name: 'eng', coefficient: 2 },
            { name: 'ar', coefficient: 2 },
            { name: 'fr', coefficient: 4 },
            { name: 'svt', coefficient: 5 }
        ];

        const grades = {};

        function getGradeLabel(avg) {
            if (avg >= 16) return 'Excellent';
            if (avg >= 14) return 'Très Bien';
            if (avg >= 12) return 'Bien';
            if (avg >= 10) return 'Assez Bien';
            return 'Insuffisant';
        }

        function calculateAverage() {
            let sum = 0;
            let count = 0;

            subjects.forEach(subject => {
                const grade = parseFloat(grades[subject.name]);
                if (!isNaN(grade) && grade >= 0 && grade <= 20) {
                    sum += grade * subject.coefficient;
                    count++;
                }
            });

            document.getElementById('totalPoints').textContent = sum.toFixed(2);
            
            const avg = count > 0 ? sum / 36 : 0;
            const avgDisplay = document.getElementById('averageDisplay');
            avgDisplay.textContent = avg.toFixed(4);
            
            if (avg > 0) {
                avgDisplay.classList.add('animate-pulse-custom');
                avgDisplay.classList.remove('opacity-50');
                const labelEl = document.getElementById('gradeLabel');
                labelEl.style.display = 'inline-block';
                labelEl.querySelector('span').textContent = getGradeLabel(avg);
            } else {
                avgDisplay.classList.remove('animate-pulse-custom');
                avgDisplay.classList.add('opacity-50');
                document.getElementById('gradeLabel').style.display = 'none';
            }
        }

        function handleGradeChange(subjectName, value) {
            grades[subjectName] = value;
            const pointsEl = document.getElementById(`points-${subjectName}`);
            const grade = parseFloat(value);
            const subject = subjects.find(s => s.name === subjectName);
            
            if (!isNaN(grade) && grade >= 0 && grade <= 20) {
                pointsEl.textContent = (grade * subject.coefficient).toFixed(2);
            } else {
                pointsEl.textContent = '0.00';
            }
            
            calculateAverage();
        }

        function createSubjectCard(subject) {
            return `
                <div class="group relative bg-gradient-to-r from-slate-800/40 to-slate-800/20 rounded-2xl p-4 sm:p-5 border border-slate-700/50 hover:border-indigo-500/50 transition-all duration-300 hover:shadow-lg hover:shadow-indigo-500/20">
                    <div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4">
                        <div class="flex-1">
                            <label class="font-bold text-white uppercase text-sm sm:text-base tracking-wider">
                                ${subject.name}
                            </label>
                            <div class="flex items-center gap-2 mt-1">
                                <span class="text-xs sm:text-sm text-indigo-400 font-medium">
                                    Coefficient: ${subject.coefficient}
                                </span>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-3 sm:gap-4">
                            <input
                                type="number"
                                min="0"
                                max="20"
                                step="0.25"
                                id="grade-${subject.name}"
                                class="w-24 sm:w-28 px-3 sm:px-4 py-2 sm:py-3 bg-slate-900/80 border-2 border-slate-700 rounded-xl focus:border-indigo-500 focus:outline-none text-center font-bold text-white text-sm sm:text-base transition-all duration-300 focus:shadow-lg focus:shadow-indigo-500/20"
                                placeholder="0-20"
                                oninput="handleGradeChange('${subject.name}', this.value)"
                            />
                            <div class="w-16 sm:w-20 text-right">
                                <div class="text-xs text-indigo-400 mb-1">Points</div>
                                <div class="font-bold text-white text-sm sm:text-base" id="points-${subject.name}">0.00</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderSubjects() {
            const container = document.getElementById('subjectsContainer');
            container.innerHTML = subjects.map(subject => createSubjectCard(subject)).join('');
        }

        function resetAll() {
            subjects.forEach(subject => {
                const input = document.getElementById(`grade-${subject.name}`);
                input.value = '';
                grades[subject.name] = '';
            });
            calculateAverage();
        }

        document.getElementById('resetBtn').addEventListener('click', resetAll);

        renderSubjects();
    </script>
</body>
</html>